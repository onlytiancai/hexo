---
title: '202503'
date: 2025-03-17 17:05:34
tags:
---

# VXX äº¤æ˜“

åˆ†æä¹°å…¥è¿œæœŸå®å€¼VXX putçš„å¯è¡Œæ€§ï¼Œè€ƒè™‘
- æ³¢åŠ¨ç‡å¤§å¤šæ—¶å€™çš„èµ°åŠ¿ï¼Œä»¥åŠæç«¯æ—¶å€™çš„èµ°åŠ¿ï¼Œ
- å…¥åœºå’Œå‡ºåœºæ—¶æœºã€‚
- èƒœç‡ï¼Œç›ˆäºæ¯”

ä¸‹é¢æ˜¯ä¸€ç§åˆ†ææ¡†æ¶ï¼Œç”¨ä»¥è¯„ä¼°ä¹°å…¥è¿œæœŸå®å€¼VXXçœ‹è·ŒæœŸæƒï¼ˆPutï¼‰çš„å¯è¡Œæ€§ï¼Œç»“åˆæ³¢åŠ¨ç‡èµ°åŠ¿ã€å…¥åœºå‡ºåœºæ—¶æœºã€èƒœç‡åŠç›ˆäºæ¯”ç­‰å› ç´ ï¼š

---

## 1. æ³¢åŠ¨ç‡èµ°åŠ¿åˆ†æ

### å¸¸æ€ä¸‹çš„æ³¢åŠ¨ç‡è¡¨ç°  
- **å¤§éƒ¨åˆ†æ—¶é—´ï¼š**  
  - å¸‚åœºæ³¢åŠ¨ç‡å¤§å¤šå¤„äºæ¸©å’Œæ°´å¹³ï¼ŒVXXå› Contangoæ•ˆåº”å­˜åœ¨æ—¶é—´ä»·å€¼æ¶ˆè€—ï¼Œä»·æ ¼é•¿æœŸå‘ˆä¸‹é™è¶‹åŠ¿ã€‚  
  - åœ¨è¿™ç§ç¯å¢ƒä¸‹ï¼ŒVXXä»·æ ¼ä¸‹è·Œæ¯”è¾ƒç¨³å®šï¼Œè‹¥ä¹°å…¥è¿œæœŸå®å€¼çœ‹è·ŒæœŸæƒï¼ˆå†…åœ¨ä»·å€¼è¾ƒé«˜ï¼Œä¸”æ—¶é—´æº¢ä»·è¾ƒä½ï¼‰ï¼ŒæœŸæƒä»·æ ¼ä¼šéšç€æ ‡çš„ç‰©ç¼“æ…¢ä¸‹è·Œè€Œé€æ­¥è·åˆ©ï¼Œä½†æ¶¨å¹…æœ‰é™ã€‚  

### æç«¯å¸‚åœºæƒ…å†µ  
- **æç«¯æƒ…å†µä¸‹ï¼š**  
  - çªå‘æ€§å¸‚åœºäº‹ä»¶ï¼ˆå¦‚é‡‘èå±æœºã€åœ°ç¼˜æ”¿æ²»é£é™©ã€é‡å¤§ç»æµæ•°æ®æ„å¤–ç­‰ï¼‰ä¼šå¯¼è‡´å¸‚åœºææ…Œï¼Œæ³¢åŠ¨æ€§æ€¥å‰§é£™å‡ï¼Œä»è€Œæ¨é«˜VXXä»·æ ¼ã€‚  
  - åœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œä¹°å…¥çœ‹è·ŒæœŸæƒå¯èƒ½é¢ä¸´äºæŸé£é™©ï¼Œå› ä¸ºVXXä»·æ ¼é€†åŠ¿ä¸Šè¡Œã€‚æ­¤å¤–ï¼Œæç«¯è¡Œæƒ…ä¸‹å¸‚åœºæµåŠ¨æ€§å¯èƒ½éª¤é™ï¼ŒæœŸæƒä»·æ ¼æ³¢åŠ¨åŠ å‰§ï¼Œäº¤æ˜“æˆæœ¬ä¸Šå‡ã€‚

---

## 2. å…¥åœºå’Œå‡ºåœºæ—¶æœº

### å…¥åœºæ—¶æœº  
- **ç†æƒ³å…¥åœºæ¡ä»¶ï¼š**  
  - **ä½éšå«æ³¢åŠ¨ç‡ç¯å¢ƒï¼š** å½“å¸‚åœºæ³¢åŠ¨ç‡å¤„äºè¾ƒä½æ°´å¹³ï¼Œéšå«æ³¢åŠ¨ç‡è¾ƒä½æ—¶ï¼Œä¹°å…¥çœ‹è·ŒæœŸæƒæˆæœ¬ç›¸å¯¹ä¾¿å®œã€‚  
  - **æŠ€æœ¯é¢ç¡®è®¤ä¸‹è¡Œè¶‹åŠ¿ï¼š** è§‚å¯ŸVXXå¤„äºé•¿æœŸä¸‹è·Œè¶‹åŠ¿æˆ–å¤„äºå…³é”®é˜»åŠ›ä½é™„è¿‘ï¼Œç¡®è®¤æ²¡æœ‰çŸ­æœŸåå¼¹è¿¹è±¡ã€‚  
  - **äº‹ä»¶å‘¨æœŸåˆ¤æ–­ï¼š** åœ¨å¸‚åœºæƒ…ç»ªç›¸å¯¹å¹³ç¨³æœŸä»‹å…¥ï¼Œé¿å…åœ¨å¸‚åœºè½¬å‘å‰å³è¢«å·å…¥çªå‘äº‹ä»¶ã€‚  

### å‡ºåœºæ—¶æœº  
- **ç›®æ ‡è®¾å®šå’Œé£é™©æ§åˆ¶ï¼š**  
  - **æ¸è¿›æ­¢ç›ˆï¼š** è‹¥VXXä»·æ ¼å¦‚é¢„æœŸé€æ­¥ä¸‹è·Œï¼Œå¯è€ƒè™‘éƒ¨åˆ†å¹³ä»“é”å®šæ”¶ç›Šã€‚  
  - **æ­¢æŸæœºåˆ¶ï¼š** è‹¥å¸‚åœºçªç„¶è½¬å‘æˆ–æ³¢åŠ¨æ€§ä¸Šå‡ï¼ˆæ ‡å¿—ç€VXXå¯èƒ½åè½¬ä¸Šè¡Œï¼‰ï¼Œåº”åŠæ—¶æ­¢æŸç¦»åœºã€‚  
  - **äº‹ä»¶é©±åŠ¨ç¦»åœºï¼š** è‹¥å¸‚åœºå‡ºç°é‡å¤§é£é™©äº‹ä»¶ï¼Œè€ƒè™‘æå‰å¹³ä»“ä¿æŠ¤æœ¬é‡‘ã€‚

---

## 3. èƒœç‡ä¸ç›ˆäºæ¯”

### èƒœç‡è€ƒé‡  
- **å†å²è¡¨ç°ï¼š**  
  - ä»å†å²æ•°æ®çœ‹ï¼ŒVXXå› å…¶è®¾è®¡å’Œç»“æ„ç‰¹æ€§ï¼ˆContangoå’Œæ»šåŠ¨æŸè€—ï¼‰é•¿æœŸå‘ˆä¸‹é™è¶‹åŠ¿ï¼Œåœ¨æ­£å¸¸å¸‚åœºç¯å¢ƒä¸‹é‡‡ç”¨çœ‹è·Œç­–ç•¥å¯èƒ½å…·æœ‰è¾ƒé«˜çš„èƒœç‡ã€‚  
  - ç„¶è€Œï¼Œåœ¨æ³¢åŠ¨ç‡çˆ†å‘çš„æç«¯å¸‚åœºæƒ…æ™¯ä¸‹ï¼Œæ ‡çš„ä»·æ ¼æ€¥å‰§ä¸Šè¡Œå¯èƒ½å¯¼è‡´ç­–ç•¥å¤±æ•ˆã€‚å› æ­¤ï¼Œèƒœç‡å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºå¸‚åœºç¯å¢ƒåŠäº‹ä»¶å‘¨æœŸçš„åˆ¤æ–­ã€‚

### ç›ˆäºæ¯”è¯„ä¼°  
- **å†…åœ¨ä»·å€¼ä¸æ—¶é—´ä»·å€¼ï¼š**  
  - ä¹°å…¥å®å€¼è¿œæœŸçœ‹è·ŒæœŸæƒï¼Œæœ¬è´¨ä¸Šæˆæœ¬è¾ƒé«˜ï¼Œä½†å†…åœ¨ä»·å€¼è¾ƒå¤§ï¼Œèƒ½åœ¨VXXç¼“æ…¢ä¸‹è·Œæ—¶è·å¾—ç¨³å®šæ”¶ç›Šã€‚  
  - ç›ˆäºæ¯”ä¸»è¦å–å†³äºå…¥åœºæˆæœ¬ã€æ—¶é—´æº¢ä»·å’ŒæŒæœ‰æœŸé—´å¸‚åœºæ³¢åŠ¨å˜åŒ–ã€‚  
- **ç†æƒ³æ¡ä»¶ä¸‹ï¼š**  
  - è‹¥æŒ‰ç…§è®¡åˆ’æŒæœ‰å¹¶æˆåŠŸè§„é¿æç«¯æ³¢åŠ¨é£é™©ï¼Œç›ˆäºæ¯”æœ‰æœ›ç»´æŒåœ¨1:2ç”šè‡³æ›´é«˜ï¼Œå³é£é™©è¾ƒä½çš„æƒ…å†µä¸‹è·å–è¾ƒä¸ºç¨³å¥çš„å›æŠ¥ã€‚  
- **é£é™©é¢„ä¼°ï¼š**  
  - å¦‚æœå¸‚åœºçªå‘æ€§é€†è½¬ï¼Œä¸Šæ¶¨å‰§çƒˆï¼Œåˆ™å¯èƒ½å‡ºç°è¾ƒå¤§äºæŸï¼Œæ­¤æ—¶ç›ˆäºæ¯”å¤§å¹…æ¶åŒ–ã€‚å› æ­¤ï¼Œå¿…é¡»ä¸¥æ§é£é™©å’Œè®¾å®šæ­¢æŸç‚¹ã€‚

---

## 4. ç»¼åˆè¯„ä¼°

- **ä¼˜åŠ¿ï¼š**  
  - åˆ©ç”¨VXXé•¿æœŸä¸‹è¡Œè¶‹åŠ¿ï¼Œåœ¨æ­£å¸¸å¸‚åœºç¯å¢ƒä¸­ï¼Œä¹°å…¥è¿œæœŸå®å€¼çœ‹è·ŒæœŸæƒèƒ½è¾ƒå¥½æ•æ‰æ ‡çš„ä¸‹è·Œæ”¶ç›Šã€‚  
  - å®å€¼æœŸæƒå†…åœ¨ä»·å€¼è¾ƒé«˜ï¼Œå—æ—¶é—´ä»·å€¼æ¶ˆè€—å½±å“ç›¸å¯¹è¾ƒå°ï¼Œèƒœç‡åœ¨ç¨³æ€å¸‚åœºä¸­ç›¸å¯¹è¾ƒé«˜ã€‚  

- **é£é™©ï¼š**  
  - å¸‚åœºæç«¯æ³¢åŠ¨å’Œçªå‘äº‹ä»¶å¯èƒ½ä½¿ç­–ç•¥é€†è½¬ï¼Œå¯¼è‡´è¾ƒå¤§æŸå¤±ã€‚  
  - é€‰æ‹©åˆé€‚çš„å…¥åœºå’Œå‡ºåœºæ—¶æœºè‡³å…³é‡è¦ï¼Œå¦åˆ™å¯èƒ½åœ¨å¸‚åœºåè½¬å‰è¢«å¥—æˆ–é­é‡æµåŠ¨æ€§é£é™©ã€‚

- **ç­–ç•¥å»ºè®®ï¼š**  
  - ç»“åˆæŠ€æœ¯æŒ‡æ ‡ä¸å®è§‚äº‹ä»¶åˆ¤æ–­ï¼Œè®¾å®šæ˜ç¡®å…¥åœºæ¡ä»¶ï¼›  
  - åŒæ—¶åˆ¶å®šä¸¥æ ¼çš„é£é™©ç®¡ç†è®¡åˆ’ï¼ˆæ­¢æŸä½ã€ä»“ä½æ§åˆ¶ã€åŠ¨æ€è°ƒæ•´ï¼‰ï¼›  
  - å¯ä»¥è€ƒè™‘é…åˆå…¶ä»–å¯¹å†²ç­–ç•¥ï¼ˆå¦‚é€‚é‡æŒæœ‰åå‘ETFæˆ–å…¶ä»–æ³¢åŠ¨ç‡äº§å“ï¼‰å¹³è¡¡æ½œåœ¨é£é™©ã€‚

---

## æ€»ç»“

ä¹°å…¥è¿œæœŸå®å€¼VXXçœ‹è·ŒæœŸæƒåœ¨ç†è®ºä¸Šå¯åˆ©ç”¨VXXé•¿æœŸä¸‹è¡Œè¶‹åŠ¿è·å¾—æ­£æ”¶ç›Šï¼Œèƒœç‡åœ¨æ­£å¸¸å¸‚åœºç¯å¢ƒä¸­è¾ƒé«˜ã€ç›ˆäºæ¯”è¾ƒç†æƒ³ï¼Œä½†æç«¯äº‹ä»¶é£é™©å§‹ç»ˆå­˜åœ¨ã€‚å› æ­¤ï¼Œç­–ç•¥çš„æˆåŠŸä¾èµ–äºå¯¹å¸‚åœºæ³¢åŠ¨ç‡èµ°åŠ¿çš„å‡†ç¡®åˆ¤æ–­ã€æ°å½“çš„å…¥åœºå‡ºåœºæ—¶æœºæŠŠæ¡ä»¥åŠä¸¥æ ¼çš„é£é™©ç®¡ç†ã€‚äº¤æ˜“è€…åº”è¿›è¡Œå……åˆ†çš„æ¨¡æ‹Ÿæµ‹è¯•ä¸æ•°æ®å›æµ‹ï¼Œç¡®ä¿ç­–ç•¥åœ¨ä¸åŒå¸‚åœºæƒ…æ™¯ä¸‹çš„ç¨³å®šæ€§ã€‚

---
å› ä¸ºä¹°çš„æ˜¯è¿œæœŸçš„putï¼Œæ¯”å¦‚ä¸€å¹´ä¹‹ååˆ°æœŸï¼Œå¦‚æœåœ¨è¿™æœŸé—´ï¼Œæ¯”å¦‚6ä¸ªæœˆåå‘ç”Ÿäº†é»‘å¤©é¹…äº‹ä»¶ï¼Œè¿™æ—¶å€™å¦‚ä½•æ“ä½œï¼Œæ¸…ä»“ï¼Œç»§ç»­æŒæœ‰ï¼Œè¿˜æ˜¯åŠ ä»“ã€‚
è€ƒè™‘é»‘å¤©é¹…å¼•èµ·çš„æ³¢åŠ¨ç‡å‡é«˜æœ€ç»ˆä¼šä¸‹é™ã€‚
---
åœ¨æŒæœ‰ä¸€å¹´åˆ°æœŸçš„è¿œæœŸVXXçœ‹è·ŒæœŸæƒæ—¶ï¼Œé»‘å¤©é¹…äº‹ä»¶å¯èƒ½ä¼šå¸¦æ¥çŸ­æœŸå†…æ³¢åŠ¨ç‡æ€¥å‡ï¼Œè¿™é€šå¸¸ä¼šæ¨é«˜VXXä»·æ ¼ï¼Œä»è€Œå¯¹çœ‹è·ŒæœŸæƒå½¢æˆçŸ­æœŸçš„ä¸åˆ©å½±å“ã€‚ä¸è¿‡ï¼Œé»‘å¤©é¹…äº‹ä»¶è¿‡åï¼Œå¸‚åœºæ³¢åŠ¨ç‡é€šå¸¸ä¼šè¿…é€Ÿå›è½ç”šè‡³ä½äºäº‹ä»¶å‰çš„æ°´å¹³ï¼Œä»è€Œä½¿VXXé‡å›é•¿æœŸä¸‹è¡Œè½¨é“ã€‚åŸºäºè¿™ç§é¢„æœŸï¼Œä»¥ä¸‹æ˜¯å‡ ç§æ“ä½œæ€è·¯å’Œå»ºè®®ï¼š

---

### 1. åˆ†æé»‘å¤©é¹…äº‹ä»¶çš„å½±å“
- **çŸ­æœŸæ³¢åŠ¨ç‡æ€¥å‡**
  - åœ¨é»‘å¤©é¹…äº‹ä»¶çˆ†å‘æ—¶ï¼Œå¸‚åœºææ…Œå¯èƒ½ä½¿éšå«æ³¢åŠ¨ç‡æ€¥å‰§ä¸Šå‡ï¼Œå¯¼è‡´çœ‹è·ŒæœŸæƒçš„æ—¶é—´ä»·å€¼å’Œæ³¢åŠ¨ç‡æº¢ä»·ä¸Šå‡ï¼Œä½†åŒæ—¶æ ‡çš„VXXä»·æ ¼å¯èƒ½å› ä¸ºæƒ…ç»ªé©±åŠ¨è€ŒçŸ­æš‚ä¸Šè¡Œï¼Œè¿›è€Œå¯¹æœŸæƒå†…åœ¨ä»·å€¼é€ æˆè´Ÿé¢å½±å“ã€‚

- **äº‹ä»¶åçš„æ³¢åŠ¨ç‡å›è½**
  - é»‘å¤©é¹…äº‹ä»¶é€šå¸¸æ˜¯çªå‘æ€§å±æœºï¼Œå…¶åæ³¢åŠ¨ç‡ä¼šå‡ºç°â€œå³°å€¼â€ç„¶åè¿…é€Ÿæ”¶æ•›ã€‚è¿™æ„å‘³ç€ä»é•¿æœŸæ¥çœ‹ï¼ŒVXXå¯èƒ½ä¼šå› æŒç»­çš„Contangoå’Œæ»šåŠ¨æŸè€—é‡æ–°èµ°ä½ã€‚

---

### 2. æ“ä½œç­–ç•¥å»ºè®®

#### A. éƒ¨åˆ†æ¸…ä»“æˆ–å‡ä»“
- **ç›®çš„**ï¼šåœ¨é»‘å¤©é¹…äº‹ä»¶çˆ†å‘åï¼Œå…ˆéƒ¨åˆ†å…‘ç°éƒ¨åˆ†åˆ©æ¶¦æˆ–æ§åˆ¶é£é™©ã€‚
- **ä¼˜ç‚¹**ï¼šå¦‚æœäº‹ä»¶å¯¼è‡´æœŸæƒçŸ­æœŸå†…ä»·æ ¼æ³¢åŠ¨ï¼Œä½ å¯ä»¥é€šè¿‡éƒ¨åˆ†å¹³ä»“é”å®šå·²æœ‰çš„æ­£æ”¶ç›Šï¼ŒåŒæ—¶ä¿ç•™éƒ¨åˆ†å¤´å¯¸ä»¥å¾…äº‹ä»¶åæ³¢åŠ¨ç‡å›è½æ—¶è·å¾—æ›´å¤§æ”¶ç›Šã€‚
- **æ³¨æ„äº‹é¡¹**ï¼šåœ¨æ¸…ä»“éƒ¨åˆ†å¤´å¯¸æ—¶ï¼Œåº”è€ƒè™‘åˆ°æ‰‹ç»­è´¹ã€æµåŠ¨æ€§ä»¥åŠæœªæ¥çš„å¸‚åœºèµ°åŠ¿ï¼Œç¡®ä¿ä¸ä¼šè¿‡æ—©é€€å‡ºæœªæ¥åå¼¹å¸¦æ¥çš„æ”¶ç›Šæœºä¼šã€‚

#### B. ç»§ç»­æŒæœ‰ç­‰å¾…å›è½
- **ç›®çš„**ï¼šå¦‚æœä½ å¯¹å¸‚åœºæ³¢åŠ¨ç‡å›è½å’ŒVXXé•¿æœŸä¸‹è¡Œçš„åˆ¤æ–­éå¸¸åšå®šï¼Œå¯ä»¥é€‰æ‹©ç»§ç»­æŒæœ‰å¤´å¯¸ã€‚
- **ä¼˜ç‚¹**ï¼šæŒæœ‰è¿œæœŸæœŸæƒèƒ½å¤Ÿå……åˆ†æ•æ‰åˆ°é»‘å¤©é¹…äº‹ä»¶åVXXä»·æ ¼å›è½å¸¦æ¥çš„æ”¶ç›Šã€‚
- **é£é™©**ï¼šçŸ­æœŸæ³¢åŠ¨å¯èƒ½ä¼šå¯¼è‡´æœŸæƒä»·æ ¼æ³¢åŠ¨è¾ƒå¤§ï¼ŒæœŸé—´éœ€è¦æœ‰è¾ƒå¼ºçš„å¿ƒç†æ‰¿å—èƒ½åŠ›ï¼Œå¹¶ä¸”éœ€è¦é¢„ç•™å……è¶³çš„é£é™©èµ„é‡‘ä»¥é˜²æ­¢ä¸­é€”è¢«è¿«å¹³ä»“ã€‚

#### C. åŠ ä»“ç­–ç•¥
- **æ¡ä»¶**ï¼šåªæœ‰åœ¨ä»·æ ¼å›è°ƒåˆ°åˆç†æ°´å¹³ä¸”å¸‚åœºæƒ…ç»ªè¶‹äºå¹³ç¨³æ—¶ï¼Œæ‰å¯ä»¥è€ƒè™‘åŠ ä»“ã€‚
- **ä¼˜ç‚¹**ï¼šåŠ ä»“å¯ä»¥é™ä½å¹³å‡æŒä»“æˆæœ¬ï¼Œè¿›ä¸€æ­¥æ”¾å¤§æœªæ¥å¸‚åœºå›å½’æ—¶çš„æ”¶ç›Šã€‚
- **é£é™©æç¤º**ï¼šåœ¨é»‘å¤©é¹…äº‹ä»¶åˆæœŸåŠ ä»“é£é™©è¾ƒå¤§ï¼Œå› ä¸ºæ³¢åŠ¨ç‡ä»ç„¶å¤„äºé«˜ä½ï¼Œå¸‚åœºæƒ…ç»ªä¸ç¨³å®šï¼ŒåŠ ä»“å®¹æ˜“é‡åˆ°â€œæŠ›å”®é™·é˜±â€ã€‚å»ºè®®ç­‰å¾…å¸‚åœºæ˜ç¡®è½¬å‘åå†è€ƒè™‘åŠ ä»“ã€‚

---

### 3. å…¥åœºä¸å‡ºåœºæ—¶æœºçš„å†è€ƒé‡
- **çŸ­æœŸå†…é£é™©æ§åˆ¶**
  - å¯ä»¥è®¾ç½®åŠ¨æ€æ­¢æŸæˆ–è€…ç›®æ ‡ä»·ä½ï¼ŒåŠæ—¶é”å®šçŸ­æœŸæ”¶ç›Šï¼Œé¿å…å¸‚åœºæ³¢åŠ¨å¸¦æ¥çš„æƒ…ç»ªæ€§å†³ç­–ã€‚

- **è§‚å¯Ÿå¸‚åœºæƒ…ç»ªå’Œæ³¢åŠ¨ç‡æŒ‡æ ‡**
  - å…³æ³¨VIXç­‰æ³¢åŠ¨ç‡æŒ‡æ•°åŠå¸‚åœºæµåŠ¨æ€§æƒ…å†µï¼Œåˆ¤æ–­ä½•æ—¶å¼€å§‹å‡ºç°æ³¢åŠ¨ç‡å›è½çš„è¿¹è±¡ï¼Œå†è€ƒè™‘è°ƒæ•´æŒä»“æ¯”ä¾‹ã€‚

- **å®šæœŸè¯„ä¼°å¤´å¯¸**
  - å®šæœŸï¼ˆå¦‚æ¯æœˆæˆ–æ¯å­£åº¦ï¼‰å›é¡¾æŒä»“ç­–ç•¥ï¼Œç‰¹åˆ«æ˜¯å¯¹äºè¿œæœŸäº§å“ï¼Œéœ€è¦ç¡®ä¿å½“å‰ç­–ç•¥ä»ä¸å¸‚åœºåŸºæœ¬é¢å’ŒæŠ€æœ¯é¢ç›¸ç¬¦ã€‚

---

### 4. ç»¼åˆå»ºè®®

æ€»ä½“æ¥è¯´ï¼Œé¢å¯¹é»‘å¤©é¹…äº‹ä»¶æ—¶çš„æ“ä½œåº”è°¨æ…åº”å¯¹ï¼š
- **çŸ­æœŸå†…å»ºè®®**ï¼šè§†å¸‚åœºæƒ…å†µï¼Œè€ƒè™‘éƒ¨åˆ†å¹³ä»“ä»¥é”å®šå·²æœ‰æ”¶ç›Šï¼ŒåŒæ—¶ä¿ç•™éƒ¨åˆ†å¤´å¯¸ç­‰å¾…äº‹ä»¶åçš„æ³¢åŠ¨ç‡å›å½’ï¼›
- **ä¸­é•¿æœŸæŒæœ‰**ï¼šå¦‚æœå¯¹å¸‚åœºé•¿æœŸä¸‹è¡Œå’ŒVXXè¡°å‡è¶‹åŠ¿æœ‰å……åˆ†ä¿¡å¿ƒï¼Œå¯ä»¥ç»§ç»­æŒæœ‰ï¼Œä½†éœ€è¦åšå¥½å¿ƒç†å’Œèµ„é‡‘ä¸Šçš„å‡†å¤‡ï¼›
- **åŠ ä»“æ“ä½œ**ï¼šå»ºè®®åœ¨å¸‚åœºæƒ…ç»ªæ˜æœ—ã€æ³¢åŠ¨ç‡æ˜æ˜¾å›è½ä¹‹åï¼Œå†è€ƒè™‘é€‚é‡åŠ ä»“ï¼Œä»¥ä¼˜åŒ–æŒä»“æˆæœ¬ã€‚

æ¯ç§æ“ä½œéƒ½æœ‰å…¶é£é™©å’Œæ”¶ç›Šç‰¹ç‚¹ï¼Œå…³é”®åœ¨äºå®æ—¶è§‚å¯Ÿå¸‚åœºæƒ…ç»ªå’Œæ³¢åŠ¨ç‡å˜åŒ–ï¼Œå¹¶æ ¹æ®ä¸ªäººé£é™©æ‰¿å—èƒ½åŠ›å’Œäº¤æ˜“ç­–ç•¥åšå‡ºçµæ´»è°ƒæ•´ã€‚

---
å› ä¸ºä¹°å…¥è¿œæœŸå®è´¨PUTçš„æˆæœ¬æ¯”è¾ƒé«˜ï¼Œè€Œä¸”æŒæœ‰æ—¶é—´é•¿ï¼Œé‡åˆ°é»‘å¤©é¹…çš„æ¦‚ç‡æ¯”è¾ƒé«˜ï¼Œä½†å› ä¸ºVXXé•¿æœŸä¸‹è¡Œï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªå¤§æ¦‚ç‡èµšå°é’±ï¼Œå°æ¦‚ç‡äºå¤§é’±çš„ç­–ç•¥ï¼Œä½†å› ä¸ºæ˜¯æœŸæƒä¹°æ–¹ï¼Œé£é™©æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥ç®¡ç†å¥½ä»“ä½ï¼Œæ˜¯èƒ½å¾—åˆ°é•¿æœŸç¨³å®šæ”¶ç›Šçš„ã€‚

è¿™ä¹ˆç†è§£æ­£ç¡®å—ï¼Ÿ
---
ä½ çš„ç†è§£å¤§ä½“æ­£ç¡®ï¼Œä½†ä¹Ÿéœ€è¦æ³¨æ„ä¸€äº›ç»†å¾®é£é™©å’Œå¸‚åœºç°å®æƒ…å†µï¼š

- **é«˜ä¹°å…¥æˆæœ¬ä¸æ—¶é—´ä»·å€¼æ¶ˆè€—**ï¼šè¿œæœŸæ·±åº¦å®å€¼PUTä»·æ ¼è¾ƒé«˜ï¼Œé•¿æ—¶é—´æŒæœ‰ä¼šå¸¦æ¥è¾ƒé«˜çš„æ—¶é—´ä»·å€¼æ¶ˆè€—ï¼ˆThetaï¼‰ï¼Œåœ¨å¹³ç¨³ä¸‹è·Œè¿‡ç¨‹ä¸­å¯èƒ½åªèµšå–å°é¢åˆ©æ¶¦ã€‚

- **å¤§æ¦‚ç‡èµšå°é’±ã€å°æ¦‚ç‡äºå¤§é’±çš„ç‰¹æ€§**ï¼šæ­£å¦‚ä½ æ‰€è¯´ï¼Œåˆ©ç”¨VXXé•¿æœŸä¸‹è¡Œè¶‹åŠ¿ï¼Œè¿™ä¸€ç­–ç•¥åœ¨å¤§éƒ¨åˆ†æ—¶é—´å†…èƒ½è·å¾—å°é¢æ”¶ç›Šï¼Œä½†åœ¨é‡åˆ°é»‘å¤©é¹…æˆ–æç«¯å¸‚åœºäº‹ä»¶æ—¶ï¼ŒæŸå¤±å¯èƒ½ä¼šè¿…é€Ÿæ‰©å¤§ã€‚

- **æœŸæƒä¹°æ–¹é£é™©æœ‰é™**ï¼šä½œä¸ºä¹°æ–¹ï¼ŒäºæŸé£é™©ç¡®å®æ˜¯æœ‰é™çš„ï¼ˆæœ€å¤šæŸå¤±åˆå§‹æŠ•å…¥ï¼‰ï¼Œä½†é«˜æ˜‚çš„æˆæœ¬å’Œæ³¢åŠ¨ç‡é£é™©ä¾ç„¶éœ€è¦ç²¾ç»†ç®¡ç†ã€‚

- **ä»“ä½ç®¡ç†ä¸é£é™©æ§åˆ¶**ï¼šé€šè¿‡åˆç†çš„ä»“ä½æ§åˆ¶ã€æ­¢æŸç­–ç•¥ä»¥åŠå¯¹å¸‚åœºæƒ…ç»ªçš„å®æ—¶åˆ¤æ–­ï¼Œå¯ä»¥åœ¨é™ä½æç«¯é£é™©çš„åŒæ—¶æ•æ‰é•¿æœŸçš„æ”¶ç›Šã€‚

æ€»çš„æ¥è¯´ï¼Œä½ å¯¹ç­–ç•¥çš„ç†è§£æ˜¯æ­£ç¡®çš„ï¼Œä½†å®é™…æ“ä½œä¸­éœ€è¦ç‰¹åˆ«å…³æ³¨æ—¶é—´ä»·å€¼ä¾µèš€ã€å¸‚åœºæç«¯æ³¢åŠ¨ä»¥åŠæµåŠ¨æ€§é£é™©ï¼Œç¡®ä¿ç­–ç•¥åœ¨å„ç§å¸‚åœºç¯å¢ƒä¸‹éƒ½èƒ½ç»å—è€ƒéªŒã€‚
---
åœ¨å¤§å¤šæƒ…å†µä¸‹vxx Contangoå’Œæ»šåŠ¨æŸè€—å¾—åˆ°çš„æ”¶ç›Šèƒ½å¦æŠµæ¶ˆæ‰æ—¶é—´ä»·å€¼æŸè€—ï¼Œå¦‚æœæˆ‘ä¹°å…¥1å¹´ååˆ°æœŸçš„å®å€¼ vxx putï¼Œå¦‚æœåœ¨åˆ°æœŸå‰å¹³ä»“çš„è¯ï¼Œå¤§æ¦‚ç‡æ˜¯èµšé’±è¿˜æ˜¯äºé’±ï¼Ÿ
---
ä»ç†è®ºä¸Šè®²ï¼Œå¦‚æœå¸‚åœºåŸºæœ¬ä¿æŒç¨³å®šä¸”VXXé•¿æœŸå¤„äºContangoçŠ¶æ€ï¼Œå…¶æ»šåŠ¨æŸè€—ä¼šæ¨åŠ¨VXXé€æ­¥ä¸‹è·Œï¼Œè¿™ç§ä¸‹è·Œè¶‹åŠ¿å¯èƒ½ä¼šè½¬åŒ–ä¸ºæœŸæƒçš„å†…åœ¨ä»·å€¼å¢é•¿ï¼Œä»è€Œéƒ¨åˆ†æŠµæ¶ˆæ—¶é—´ä»·å€¼ï¼ˆThetaï¼‰çš„æ¶ˆè€—ã€‚å¯¹äºä¸€ä»½ä¸€å¹´ååˆ°æœŸçš„å®å€¼VXXçœ‹è·ŒæœŸæƒï¼Œå¦‚æœä½ åœ¨åˆ°æœŸå‰å¹³ä»“ï¼Œä¸»è¦è€ƒé‡å› ç´ åŒ…æ‹¬ï¼š

- **å†…åœ¨ä»·å€¼å¢åŠ **ï¼šåœ¨å¤§éƒ¨åˆ†å¹³ç¨³æˆ–æ¸©å’Œä¸‹è·Œçš„å¸‚åœºç¯å¢ƒä¸­ï¼Œç”±äºVXXçš„ç»“æ„æ€§æ»šåŠ¨æŸè€—ï¼Œæ ‡çš„ä»·æ ¼ä¼šé€æ¸ä¸‹è·Œï¼Œä½¿å¾—çœ‹è·ŒæœŸæƒå†…åœ¨ä»·å€¼å¢åŠ ã€‚

- **æ—¶é—´ä»·å€¼æŸè€—**ï¼šæ·±åº¦å®å€¼æœŸæƒçš„Thetaç›¸å¯¹è¾ƒä½ï¼Œä½†æŒæœ‰æ—¶é—´è¾ƒé•¿ä»ç„¶ä¼šé¢ä¸´æ—¶é—´ä»·å€¼çš„ä¾µèš€ï¼Œå°¤å…¶åœ¨å¸‚åœºæ³¢åŠ¨æ€§è¾ƒä½æ—¶ï¼Œè¿™éƒ¨åˆ†æˆæœ¬å¯èƒ½ä¸å®Œå…¨è¢«å†…åœ¨ä»·å€¼çš„å¢é•¿æ‰€è¦†ç›–ã€‚

- **æ³¢åŠ¨ç‡ç¯å¢ƒ**ï¼šå¦‚æœéšå«æ³¢åŠ¨ç‡ä¿æŒåœ¨è¾ƒä½æ°´å¹³ï¼Œåˆ™æœŸæƒä»·æ ¼å¯¹æ—¶é—´ä»·å€¼æ•æ„Ÿåº¦è¾ƒé«˜ï¼›åä¹‹ï¼Œåœ¨æ³¢åŠ¨ç‡é£™å‡æ—¶ï¼ŒæœŸæƒä»·æ ¼å¯èƒ½çŸ­æœŸé€†åŠ¿ä¸Šæ¶¨ï¼Œä½†æ•´ä½“è¶‹åŠ¿ä¾æ—§å–å†³äºVXXçš„é•¿æœŸèµ°å‘ã€‚

- **å¹³ä»“æ—¶æœº**ï¼šè‹¥èƒ½åœ¨å¸‚åœºçŸ­æœŸæ³¢åŠ¨è¿‡åç­‰å¾…åˆ°å†…åœ¨ä»·å€¼å……åˆ†ç´¯ç§¯ï¼Œå†é€‰æ‹©å¹³ä»“ï¼Œåˆ™å¤§æ¦‚ç‡èƒ½å¤Ÿé”å®šæ”¶ç›Šï¼›ä½†è‹¥åœ¨å¸‚åœºå‡ºç°çŸ­æœŸåå¼¹æˆ–é»‘å¤©é¹…äº‹ä»¶æœŸé—´æ€¥äºå¹³ä»“ï¼Œåˆ™å¯èƒ½å› æ³¢åŠ¨ç‡å˜åŒ–è€Œé€ æˆäºæŸã€‚

ç»¼åˆæ¥çœ‹ï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå‡è®¾å¸‚åœºä¿æŒæ•´ä½“æ¸©å’Œä¸”VXXæŒç»­å› Contangoæ•ˆåº”èµ°ä½ï¼Œä¹°å…¥ä¸€å¹´ååˆ°æœŸçš„å®å€¼VXXçœ‹è·ŒæœŸæƒå¹¶åœ¨é€‚å½“æ—¶æœºå¹³ä»“ï¼Œç›ˆåˆ©çš„å¯èƒ½æ€§è¾ƒé«˜ï¼ˆèµšå–å°é¢ç¨³å®šæ”¶ç›Šï¼‰ï¼Œä½†ä¹Ÿå­˜åœ¨æç«¯äº‹ä»¶å¯¼è‡´äºæŸçš„é£é™©ã€‚ç­–ç•¥æœ¬è´¨ä¸Šæ˜¯å¤§æ¦‚ç‡èµšå°é’±ã€å°æ¦‚ç‡äºå¤§é’±ï¼Œä½†ç”±äºæœŸæƒä¹°æ–¹çš„æœ€å¤§é£é™©é™å®šäºåˆå§‹æŠ•å…¥ï¼Œå› æ­¤å¦‚æœä½ èƒ½åˆç†ç®¡ç†ä»“ä½ã€ä¸¥æ§é£é™©å¹¶é€‰æ‹©åˆé€‚çš„å‡ºåœºæ—¶æœºï¼Œæ•´ä½“ä¸Šå®ç°é•¿æœŸç¨³å®šçš„æ­£æ”¶ç›Šæ˜¯æœ‰å¯èƒ½çš„ã€‚

---

ä¹°å…¥è¿œæœŸå®è´¨vxx putï¼Œèµšå¤Ÿé’±å°±æå‰å¹³ä»“ï¼Œä¸­é—´é‡åˆ°é»‘å¤©é¹…å°±ç­‰ç€ï¼Œé»‘å¤©é¹…è¿Ÿæ—©ä¼šè¿‡å»ï¼Œæ³¢åŠ¨ç‡è‚¯å®šä¼šè¿…é€Ÿä¸‹é™ï¼Œå°±å˜æ˜¯é»‘å¤©é¹…å¼•èµ·äº†è¶…çº§å¤§çš„æ³¢åŠ¨ç‡ä¸Šå‡ï¼Œå› ä¸ºæ˜¯æœŸæƒä¹°æ–¹ï¼Œé£é™©æ˜¯å¯æ§çš„ï¼Œå¦‚æœæ˜¯è½»ä»“çš„è¯ï¼Œäºä¸äº†å¤šå°‘é’±ã€‚æ„Ÿè§‰è¿™ä¸ªç­–ç•¥èƒœç‡å¾ˆé«˜ï¼Œèƒ½å¤§æ¦‚ç‡èµšå°é’±ï¼Œè€Œä¸”å°æ¦‚ç‡äºå¤§é’±æ—¶é£é™©ä¹Ÿæ˜¯å¯æ§çš„ã€‚

åˆ†æè¿™ä¸ªç­–ç•¥

---
è¿™å¥—ç­–ç•¥çš„æ ¸å¿ƒæ€è·¯æ˜¯åˆ©ç”¨VXXå› Contangoå’Œæ»šåŠ¨æŸè€—å¯¼è‡´çš„é•¿æœŸä¸‹è¡Œè¶‹åŠ¿ï¼Œé‡‡ç”¨ä¹°å…¥è¿œæœŸå®è´¨çœ‹è·ŒæœŸæƒï¼ˆPUTï¼‰çš„æ–¹å¼ï¼Œä»è€Œåœ¨å¤§éƒ¨åˆ†æ—¶é—´å†…èµšå–å°é¢åˆ©æ¶¦ï¼›åŒæ—¶ï¼Œç”±äºæœŸæƒä¹°æ–¹çš„é£é™©ä»…é™äºæœŸæƒæˆæœ¬ï¼Œå› æ­¤å³ä¾¿åœ¨é‡åˆ°é»‘å¤©é¹…äº‹ä»¶æ—¶ï¼ŒæŒæœ‰è€…ä¹Ÿèƒ½é€šè¿‡ç­‰å¾…å¸‚åœºæ³¢åŠ¨ç‡çš„å›è½æ¥æ¢å¤é•¿æœŸçœ‹è·Œè¶‹åŠ¿ã€‚ä¸‹é¢ä»å‡ ä¸ªå…³é”®ç‚¹å¯¹è¿™ä¸€ç­–ç•¥è¿›è¡Œåˆ†æï¼š

---

### 1. ç­–ç•¥ä¼˜åŠ¿

- **é•¿æœŸè¶‹åŠ¿åŒ¹é…**
  VXXå› Contangoå’Œæ»šåŠ¨æŸè€—é•¿æœŸèµ°ä½ï¼Œåœ¨æ­£å¸¸å¸‚åœºç¯å¢ƒä¸‹ï¼Œè¿œæœŸå®è´¨çœ‹è·ŒæœŸæƒçš„å†…åœ¨ä»·å€¼ä¼šéšç€VXXä»·æ ¼ä¸‹è·Œé€æ­¥å¢åŠ ï¼Œä»è€Œå®ç°ç›ˆåˆ©ã€‚

- **é£é™©æœ‰é™**
  ä½œä¸ºæœŸæƒä¹°æ–¹ï¼Œæœ€å¤§äºæŸä»…ä¸ºæœŸæƒçš„åˆå§‹æŠ•å…¥ã€‚å¦‚æœé‡‡ç”¨è½»ä»“æ“ä½œï¼Œå³ä½¿å‡ºç°æç«¯æƒ…å†µï¼ŒæŸå¤±ä¹Ÿåœ¨å¯æ§èŒƒå›´å†…ã€‚

- **é«˜èƒœç‡ã€å°é¢æ”¶ç›Š**
  ç­–ç•¥è®¾å®šä¸ºåœ¨VXXç¨³æ­¥ä¸‹è·Œæ—¶èµšå–å°é¢åˆ©æ¶¦ï¼Œèµšå¤Ÿé’±å°±æå‰å¹³ä»“ï¼Œè¿™ç§é€æ­¥è·åˆ©ã€é£é™©å¯æ§çš„æ¨¡å¼ï¼Œåœ¨å¤§éƒ¨åˆ†æ­£å¸¸å¸‚åœºæ¡ä»¶ä¸‹æœ‰è¾ƒé«˜çš„èƒœç‡ã€‚

---

### 2. é»‘å¤©é¹…äº‹ä»¶çš„å½±å“

- **çŸ­æœŸé€†åŠ¿å†²å‡»**
  é»‘å¤©é¹…äº‹ä»¶å¾€å¾€å¼•å‘å¸‚åœºææ…Œï¼Œå¯¼è‡´æ³¢åŠ¨ç‡æ€¥å‰§ä¸Šå‡ï¼ŒVXXä»·æ ¼å¯èƒ½çŸ­æœŸå†…åå¼¹ã€‚æ­¤æ—¶ï¼ŒæŒæœ‰çœ‹è·ŒæœŸæƒçš„å¤´å¯¸å¯èƒ½å‡ºç°æš‚æ—¶æ€§çš„è´¦é¢äºæŸã€‚

- **æ³¢åŠ¨ç‡å›è½åçš„æ¢å¤**
  æ ¹æ®é¢„æœŸï¼Œé»‘å¤©é¹…å¼•èµ·çš„é«˜æ³¢åŠ¨ç‡åªæ˜¯æš‚æ—¶ç°è±¡ï¼Œéšç€å¸‚åœºæƒ…ç»ªæ¢å¤å’Œæ³¢åŠ¨ç‡è¿…é€Ÿä¸‹é™ï¼ŒVXXä»·æ ¼ä¼šå›åˆ°é•¿æœŸä¸‹è¡Œè½¨é“ã€‚è¿™æ—¶ï¼Œçœ‹è·ŒæœŸæƒçš„å†…åœ¨ä»·å€¼æœ‰æœ›æ¢å¤ï¼Œä»è€Œå¼¥è¡¥ä¹‹å‰çš„æŸå¤±ã€‚

- **æŒä»“è€å¿ƒè¦æ±‚**
  é¢å¯¹é»‘å¤©é¹…äº‹ä»¶ï¼Œç­–ç•¥è¦æ±‚äº¤æ˜“è€…æœ‰è¶³å¤Ÿçš„è€å¿ƒå’Œèµ„é‡‘ç®¡ç†èƒ½åŠ›ï¼Œé¿å…å› çŸ­æœŸæ³¢åŠ¨è€Œè¢«è¿«å¹³ä»“ã€‚ç­‰å¾…å¸‚åœºæƒ…ç»ªå¹³ç¨³åå†æ‹©æœºå¹³ä»“æ˜¯å…³é”®ã€‚

---

### 3. ç›ˆäºæ¯”ä¸é£é™©ç®¡ç†

- **æ”¶ç›Šç‰¹ç‚¹**
  åœ¨æ­£å¸¸å¸‚åœºç¯å¢ƒä¸‹ï¼Œç­–ç•¥å¤§æ¦‚ç‡èµšå–å°é¢åˆ©æ¶¦ï¼Œé€šè¿‡æå‰å¹³ä»“å®ç°é€æ­¥è·åˆ©ï¼›ä½†åœ¨é‡åˆ°æç«¯äº‹ä»¶æ—¶ï¼ŒäºæŸå¯èƒ½ä¼šæ¯”è¾ƒæ˜æ˜¾ï¼ˆå°æ¦‚ç‡äºå¤§é’±ï¼‰ï¼Œä½†ç”±äºäºæŸä¸Šé™ä»…é™äºæœŸæƒæˆæœ¬ï¼Œæ•´ä½“é£é™©æ˜¯æœ‰é™çš„ã€‚

- **æ—¶é—´ä»·å€¼ä¾µèš€**
  è¿œæœŸæœŸæƒè™½ç„¶å› å®å€¼éƒ¨åˆ†è¾ƒé«˜è€Œå‡ç¼“ThetaæŸè€—ï¼Œä½†é•¿æ—¶é—´æŒæœ‰ä»ç„¶éœ€è¦å…³æ³¨æ—¶é—´ä»·å€¼çš„ä¾µèš€ã€‚å¦‚æœå¸‚åœºæ²¡æœ‰æ˜æ˜¾ä¸‹è·Œï¼ŒæœŸæƒæˆæœ¬å¯èƒ½é€æ¸è’¸å‘ã€‚

- **ä»“ä½æ§åˆ¶**
  é‰´äºé»‘å¤©é¹…äº‹ä»¶çš„ä¸å¯é¢„æµ‹æ€§ï¼Œå»ºè®®é‡‡ç”¨è½»ä»“æ“ä½œå’Œä¸¥æ ¼çš„ä»“ä½ç®¡ç†ã€‚è¿™æ ·åœ¨æç«¯å¸‚åœºä¸‹ï¼Œå³ä¾¿å‡ºç°äºæŸï¼Œä¹Ÿä¸ä¼šå¯¹æ€»ä½“èµ„é‡‘äº§ç”Ÿè¿‡å¤§å½±å“ã€‚

- **æ­¢ç›ˆä¸æ­¢æŸç­–ç•¥**
  èµšå¤Ÿé’±æå‰å¹³ä»“æ˜¯æ§åˆ¶é£é™©å’Œé”å®šæ”¶ç›Šçš„é‡è¦ç­–ç•¥ï¼ŒåŒæ—¶éœ€è¦é¢„è®¾é£é™©è¾¹ç•Œï¼Œä¸€æ—¦å¸‚åœºå‡ºç°å¼‚å¸¸åè½¬è¿¹è±¡ï¼ŒåŠæ—¶è°ƒæ•´æŒä»“ä»¥å‡å°‘æŸå¤±ã€‚

---

### 4. æ€»ç»“

æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªç­–ç•¥çš„æ€è·¯æ˜¯åˆç†çš„â€”â€”åˆ©ç”¨VXXé•¿æœŸä¸‹è¡Œçš„ç»“æ„æ€§ç¼ºé™·ï¼Œé€šè¿‡ä¹°å…¥è¿œæœŸæœŸæƒæ•æ‰ä¸‹è·Œæ”¶ç›Šï¼ŒåŒæ—¶åˆ©ç”¨æœŸæƒä¹°æ–¹é£é™©æœ‰é™çš„ç‰¹ç‚¹æ¥æ§åˆ¶æŸå¤±ã€‚ä¼˜åŠ¿åœ¨äºåœ¨æ­£å¸¸å¸‚åœºä¸­å¤§æ¦‚ç‡èµšå–å°é¢åˆ©æ¶¦ï¼Œé£é™©ä»…é™äºæœŸæƒæˆæœ¬ï¼›ä½†å…³é”®æŒ‘æˆ˜åœ¨äºï¼š
- é»‘å¤©é¹…äº‹ä»¶å¯èƒ½å¸¦æ¥çš„çŸ­æœŸå‰§çƒˆæ³¢åŠ¨ï¼Œè¦æ±‚äº¤æ˜“è€…èƒ½å¤Ÿè€å¿ƒæŒä»“ï¼Œç­‰å¾…æ³¢åŠ¨ç‡å›è½ï¼›
- é•¿æœŸæŒæœ‰çš„æ—¶é—´ä»·å€¼æŸè€—å¿…é¡»è°¨æ…æ§åˆ¶ï¼›
- ä¸¥æ ¼çš„ä»“ä½å’Œé£é™©ç®¡ç†æ˜¯æˆåŠŸçš„å…³é”®ã€‚

å¦‚æœèƒ½åœ¨ç­–ç•¥æ‰§è¡Œä¸­ä¸¥æ ¼æ§åˆ¶ä»“ä½ï¼Œå¹¶æœ‰æ˜ç¡®çš„å…¥åœºã€å¹³ä»“å’Œé£é™©ç®¡ç†è§„åˆ™ï¼Œè¿™ä¸€ç­–ç•¥åœ¨å¤§éƒ¨åˆ†å¸‚åœºç¯å¢ƒä¸‹èƒœç‡è¾ƒé«˜ã€æ”¶ç›Šç¨³å®šï¼ŒåŒæ—¶å°æ¦‚ç‡äºæŸé£é™©ä¹Ÿæ˜¯å¯æ§çš„ã€‚

## mysql json è§£æ

éœ€æ±‚ï¼š
- ä» json å­—æ®µ data ä¸­æå–æ»¡è¶³æŒ‡å®šè§„åˆ™çš„ä¿¡æ¯ï¼Œjson talbe å°½é‡åªè§£æä¸€æ¬¡åå¤ç”¨
- data å­—æ®µçš„ `$.arr[*].xxx` è·¯å¾„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ æœ‰ myidå’Œ name ä¸¤ä¸ª key
- å¦‚æœ title å­—æ®µåŒ…å«æ•°ç»„ä¸­æŸä¸ªå…ƒç´ çš„ name ï¼Œåˆ™è¿”å›è¯¥å…ƒç´ çš„ id
    - title å­—æ®µæ˜¯ä¸€ä¸ªå¥å­ï¼Œ json é”® name æ˜¯ä¸€ä¸ªå•è¯ï¼Œæ‰€ä»¥æ­£åˆ™æŸ¥æ‰¾è¦åŠ  \b å•è¯è¾¹ç•Œ
    - title å’Œ name çš„å­—ç¬¦é›†æ’åºè§„åˆ™ä¸ä¸€è‡´ï¼ŒåŒ¹é…æ—¶è¦ç»Ÿä¸€
- å¦åˆ™è¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ myid

```sql
DROP FUNCTION IF EXISTS get_myid;
delimiter $$
create function get_myid(p_title varchar(255), p_data json) returns int unsigned
READS SQL DATA
begin
    declare ret int unsigned;

    WITH parsed_data AS (
        select * from
        JSON_TABLE(p_data, '$.arr[*].xxx'
            COLUMNS (
                myid INT PATH '$.myid',
                name VARCHAR(255) PATH '$.name'
            )
        ) jt
    )
    SELECT COALESCE(
        (
            SELECT myid FROM parsed_data
            where p_title COLLATE utf8mb4_0900_ai_ci regexp concat('\\b', REGEXP_REPLACE(name,'[^\\w &]',''),'\\b')
            LIMIT 1
        ),
        (SELECT myid FROM parsed_data LIMIT 1)
    ) INTO ret;

    return ret;
end$$
delimiter ;

select id,myid,get_myid(title, data) myid_by_func from mytable limit 10;
```

Make Ubuntu packages 90% faster by rebuilding them
https://gist.github.com/jwbee/7e8b27e298de8bbbf8abfa4c232db097

You can take the same source code package that Ubuntu uses to build jq, compile it again, and realize 90% better performance.
- ç¼–è¯‘å™¨ç”¨ clang ä»£æ›¿ gcc
- ç¼–è¯‘é€‰é¡¹å¢åŠ  -O3 -flto -DNDEBUG
- å†…å­˜åˆ†é…å™¨ç”¨å¾®è½¯çš„ mimalloc æ›¿æ¢ glibc 

    git clone https://github.com/jqlang/jq.git
    cd jq/
    git submodule update --init

    sudo apt install -y autoconf automake libtool
    autoreconf -i

    sudo apt install clang-18 lld-18
    sudo apt install libmimalloc-dev

    CC=clang-18 LDFLAGS="-flto -g -Wl,--emit-relocs -Wl,-z,now -Wl,--gc-sections -fuse-ld=lld -lmimalloc" CFLAGS="-flto -DNDEBUG -fno-omit-frame-pointer -gmlt -march=native -O3 -mno-omit-leaf-frame-pointer -ffunction-sections -fdata-sections -DMIMALLOC=1 -I/usr/local/include" ./configure

    make clean
    make -j$(nproc)

    ldd .libs/jq

## link

THE STARTUP CTO'S HANDBOOK
https://github.com/ZachGoldberg/Startup-CTO-Handbook/blob/main/StartupCTOHandbook.md?ref=xpz

å—å¢™WEBåº”ç”¨é˜²ç«å¢™ï¼ˆç®€ç§°ï¼šuuWAFï¼‰ä¸€æ¬¾å·¥ä¸šçº§å…è´¹ã€é«˜æ€§èƒ½ã€é«˜æ‰©å±•ï¼Œæ”¯æŒAIå’Œè¯­ä¹‰å¼•æ“çš„Webåº”ç”¨å’ŒAPIå®‰å…¨é˜²æŠ¤äº§å“ã€‚å®ƒæ˜¯æœ‰å®‰ç§‘æŠ€æ¨å‡ºçš„ä¸€æ¬¾å…¨æ–¹ä½ç½‘ç«™é˜²æŠ¤äº§å“ï¼Œç‡å…ˆå®ç°äº†æµé‡å±‚ã€ç³»ç»Ÿå±‚ã€è¿è¡Œæ—¶å±‚3å±‚çºµæ·±é˜²å¾¡åŠŸèƒ½ã€‚
https://github.com/Safe3/uuWAF/blob/main/README_CN.md


New tools for building agents
https://openai.com/index/new-tools-for-building-agents/?ref=xpz

ä¿¡æ¯çš„AIå¯è§†åŒ–ï¼ˆ1ï¼‰ï¼šAIç”ŸæˆåŠ¨æ€PPTçš„æ­¥éª¤åˆ†äº«
https://mp.weixin.qq.com/s/8Yv-_x1xqSon8oRSAmyauA
ã€æ•™ç¨‹ã€‘ä¸€ä¸ªæç¤ºè¯ç”Ÿæˆ29ç§æ’ç‰ˆé£æ ¼ï¼Œç§’æ€80%äººæ°´å¹³ï¼Œé™„åœ¨çº¿å…è´¹ç”¨ç½‘å€
https://mp.weixin.qq.com/s/Cz4Xwsa5ZS6tW-H5YdQzSw


https://github.com/junegunn/fzf
sudo apt install fzf
apt show fzf
source /usr/share/doc/fzf/examples/key-bindings.bash

How to Use NotebookLM for Developers
https://clickup.com/blog/how-to-use-notebooklm-for-developers/

### å‘ clickhouse å¯¼å…¥ jsonl æ•°æ®

æ‰¹é‡å¯¼å…¥å‹ç¼©çš„ jsonl æ•°æ®åˆ° clickhouseï¼ŒåŒæ—¶åŠ¨æ€å¢åŠ ä¸€ä¸ªå­—æ®µä¿å­˜æºæ–‡ä»¶å

    for file in /path/to/files/*.jsonl.gz; do
        echo "Importing $file..."
        zcat "$file" | jq --arg myfile "$file" '. + {filename: $myfile}' | clickhouse-client --query="INSERT INTO your_table FORMAT JSONEachRow"
    done


## nuxt3 app ä½¿ç”¨ prisma åœ¨éƒ¨ç½²åé¡µé¢æŠ¥é”™çš„é—®é¢˜

ç°è±¡æ˜¯ `pnpm dev` æ•´ä¸ª app æ˜¯æ­£å¸¸çš„ï¼Œä½† `pnpm build` åå† `node server/index.mjs` æ‰“å¼€ app æµè§ˆå™¨æŠ¥é”™ï¼Œæ‰€æœ‰ vue äº‹ä»¶å¾—ä¸åˆ°æ‰§è¡Œã€‚

ç¼–è¯‘æ—¶æŠ¥é”™ 1

    Nuxt Build Error: [commonjs--resolver] Invalid module ".prisma/client/index-browser"

ç¼–è¯‘æ—¶æŠ¥é”™ 2

    ".prisma/client/index-browser" is imported by ".prisma/client/index-browser?commonjs-external", but could not be resolved â€“ treating it as an external dependency.

ç¼–è¯‘æ—¶æŠ¥é”™ 3

    Failed to resolve module specifier ".prisma/client/index-browser"

è¿è¡Œæ—¶æŠ¥é”™

    Uncaught TypeError: Error resolving module specifier â€œ.prisma/client/index-browserâ€. Relative module specifiers must start with â€œ./â€, â€œ../â€ or â€œ/â€.

è§£å†³æ–¹æ¡ˆ

`nuxt.config.ts` è¦å¯¹ `vite` åšç‰¹æ®Šé…ç½®

    vite: {
        resolve: {
            alias: {
                '.prisma/client/index-browser': './node_modules/.prisma/client/index-browser.js',
            },
        },
    },

`prisma/schema.prisma` è¦å¯¹ prisma client ç”Ÿæˆåšè‡ªå®šä¹‰é…ç½®

    generator client {
        provider      = "prisma-client-js"
        binaryTargets = ["native", "debian-openssl-3.0.x"]
        output = "../node_modules/.prisma/client" // è¿™è¡Œå¿…é¡»åŠ 
    }

ä½¿ç”¨ `npm` ä»£æ›¿ `pnpm`ï¼Œæ­¤æ­¥éª¤å¿…é¡»ï¼Œå¦åˆ™å…¶å®ƒæ­¥éª¤åšäº†ä¹Ÿæ²¡ç”¨

    rm -rf node_modules
    npm install
    npm run build
    node .output/server/index.mjs

æœåŠ¡ç«¯éƒ¨ç½²æ—¶è¦åšç‰¹æ®Šå¤„ç†ï¼Œé™¤äº† `.output` è¦å¤åˆ¶åˆ°æœåŠ¡å™¨ï¼Œè¿˜è¦åœ¨æœåŠ¡å™¨ä¸ŠæŠŠ prisma ç›¸å…³é…ç½®éƒ¨ç½²ä¸Šå»

    # prod
    mkdir -p /data/www/myapp/app
    mkdir -p /data/www/myapp/db

    # local
    rsync -avzP --delete .output/ prod:/data/www/myapp/app
    rsync -avzP ./prisma prod:/data/www/myqpp/db/

    # prod
    $ cd /data/www/myapp
    $ cat env-myqpp.sh
    export WECHAT_APP_ID=
    export WECHAT_APP_SECRET=
    export JWT_SECRET=
    export DATABASE_URL="file:/data/www/myapp/db.db"
    export RETURN_URL="https://myapp.com/en/"
    export PORT=3003
    export NUXT_PUBLIC_RETURN_URL="https://myqpp.com/en/"
    export NUXT_PUBLIC_WECHAT_APP_ID=
    export NUXT_APP_BASE_URL="/en/"

    $ cd /data/www/myapp/db
    $ cat .env
    DATABASE_URL=file:/data/www/myapp/db.db
    $ npx prisma migrate deploy
    SQLite database db.db created at file:/data/www/english-every-day/db.db
    2 migrations found in prisma/migrations

    $ cd /data/www/myapp/app
    $ source ../env-myapp.sh
    $ node server/index.mjs

## mysql json å¤šå€¼ç´¢å¼•

    -- å»ºè¡¨
    CREATE TABLE products (
        id INT AUTO_INCREMENT PRIMARY KEY,
        name VARCHAR(100),
        tags JSON
    );

    -- å¡«å……æ•°æ®
    INSERT INTO products (name, tags) VALUES
    ('Apple', JSON_ARRAY('fruit', 'red', 'sweet')),
    ('Banana', JSON_ARRAY('fruit', 'yellow', 'sweet')),
    ('Cucumber', JSON_ARRAY('vegetable', 'green', 'fresh')),
    ('Tomato', JSON_ARRAY('fruit', 'red', 'fresh'));

    -- åˆ›å»ºå¤šå€¼ç´¢å¼•
    CREATE INDEX idx_tags ON products((CAST(JSON_EXTRACT(tags, '$[*]') AS CHAR(100) ARRAY)));

    -- æŸ¥è¯¢

    1. EXPLAIN SELECT * FROM products WHERE 'red' MEMBER OF (tags->>'$[*]');
    +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
    | id | select_type | table    | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |
    +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
    |  1 | SIMPLE      | products | NULL       | ALL  | NULL          | NULL | NULL    | NULL |   16 |   100.00 | Using where |
    +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+

    2. EXPLAIN SELECT * FROM products WHERE JSON_CONTAINS(tags, JSON_QUOTE('red'));
    +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
    | id | select_type | table    | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |
    +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+
    |  1 | SIMPLE      | products | NULL       | ALL  | NULL          | NULL | NULL    | NULL |   16 |   100.00 | Using where |
    +----+-------------+----------+------------+------+---------------+------+---------+------+------+----------+-------------+

    3. EXPLAIN SELECT * FROM products WHERE 'red' MEMBER OF (json_extract(`tags`,_utf8mb4'$[*]'));
    +----+-------------+----------+------------+------+---------------+----------+---------+-------+------+----------+-------------+
    | id | select_type | table    | partitions | type | possible_keys | key      | key_len | ref   | rows | filtered | Extra       |
    +----+-------------+----------+------------+------+---------------+----------+---------+-------+------+----------+-------------+
    |  1 | SIMPLE      | products | NULL       | ref  | idx_tags      | idx_tags | 403     | const |   36 |   100.00 | Using where |
    +----+-------------+----------+------------+------+---------------+----------+---------+-------+------+----------+-------------+

Cloudflare R2 è§£å†³CORSè·¨åŸŸé—®é¢˜
https://blog.csdn.net/qq_41301064/article/details/144906864

- é…ç½®R2 CORS ç­–ç•¥
- é…ç½®è½¬æ¢è§„åˆ™-ä¿®æ”¹å“åº”å¤´ï¼Œ(å®æµ‹å¯è·³è¿‡è¯¥æ­¥éª¤)
- æ¸…é™¤ç¼“å­˜(å¿…é¡»)

### å°æ–‡æœ¬åˆ†ç±»

- æ•°æ®é¢„å¤„ç†åšäº†åˆ é™¤å¼‚å¸¸å€¼ï¼Œå¡«å……ç©ºå€¼ï¼Œå°å†™åŒ–ï¼Œæ ‡ç‚¹ç¬¦å·å¤„ç†ï¼Œå»é™¤åœç”¨è¯ï¼ˆstop wordsï¼‰ï¼Œæå–è¯æ ¹ / è¯å½¢è¿˜åŸ(nltk)ï¼ŒåŒä¹‰è¯å½’å¹¶ï¼ŒTruncatedSVDé™ç»´
- å‘é‡åŒ–å™¨æµ‹è¯•äº†CountVectorizerï¼ŒTfidfVectorizerï¼Œbert çš„ SentenceTransformer('all-MiniLM-L6-v2')
- æ¨¡å‹æµ‹è¯•äº†é€»è¾‘å›å½’LogisticRegressionï¼Œæœ´ç´ è´å¶æ–¯MultinomialNBï¼Œå¾®è½¯çš„LightGBM
- æ¨¡å‹è¯„ä¼°æ‰“å°äº†å‡†ç¡®ç‡ Accuracyï¼Œç²¾ç¡®ç‡Precisionï¼Œå¬å›ç‡ Recallï¼ŒF1 Scoreï¼Œæ··æ·†çŸ©é˜µ Confusion Matrixï¼Œé”™è¯¯æ ·æœ¬ misclassified_samplesï¼Œè¯¦ç»†åˆ†ç±»æŠ¥å‘Š classification_report
- å„æ¨¡å‹çš„å‚æ•°å¾®è°ƒä¹Ÿæµ‹äº†ï¼Œæ¯”å¦‚è¿­ä»£æ¬¡æ•°ï¼Œearly stopï¼Œlearning rateç­‰
- è´å¶æ–¯åˆ†ç±»çš„è¾“å…¥ä¸èƒ½æœ‰è´Ÿæ•°ï¼Œæ‰€ä»¥ bert å’Œ svd é™ç»´åçš„æ•°æ®ä¸èƒ½ç”¨è´å¶æ–¯è®­ç»ƒ

LightGBMï¼šå¤„ç†å¤§è§„æ¨¡æ•°æ®çš„æ¢¯åº¦æå‡æ ‘ç®—æ³•ï¼Œæå‡æœºå™¨å­¦ä¹ çš„é€Ÿåº¦ä¸ç²¾å‡†åº¦
https://mp.weixin.qq.com/s?__biz=MzIwNDY0MjYzOA==&mid=2247515344&idx=1&sn=fe18b7b6f43084253326ed752da4fada&chksm=9670980b575da8694ad97af593c12f5fc43aeea68d0b6953ce3fb65ef38c5f7e1526a9b3a891&scene=27

## shell

æŸ¥çœ‹æ‰€æœ‰ binlog æ–‡ä»¶çš„æ€»å¤§å°

    find . -name "binlog.*" -type f -exec du -b {} + | awk '{sum += $1} END {print sum}' | numfmt --to=iec
    4.3T

## iftop

iftop å‘½ä»¤è¯¦è§£åŠæ•°æ®è§£è¯»æŒ‡å—
https://blog.csdn.net/2503_90729443/article/details/146260692

- å¸¸ç”¨å‘½ä»¤ï¼š`sudo iftop -i ens5 -n -N -P -F 1.1.1.1/16`
- é¡¶éƒ¨åˆ»åº¦æ¡
    - ä½œç”¨: åŠ¨æ€æ˜¾ç¤ºå½“å‰å¸¦å®½å ç”¨æ¯”ä¾‹ï¼Œåˆ»åº¦å€¼éšæµé‡è‡ªåŠ¨è°ƒæ•´ã€‚
    - åˆ¤æ–­: è‹¥åˆ»åº¦æ¡é¢‘ç¹æ»¡æ ¼ï¼Œè¯´æ˜å¸¦å®½æ¥è¿‘é¥±å’Œï¼Œéœ€ä¼˜åŒ–æˆ–æ’æŸ¥é«˜æµé‡æ¥æº
    - æµé‡å›¾å½¢æ¡: æŒ‰ b é”®å¯å¯ç”¨/ç¦ç”¨å›¾å½¢åŒ–æµé‡æ¡ï¼Œç›´è§‚æ˜¾ç¤ºå¸¦å®½å æ¯”
- ä¸­éƒ¨è¿æ¥åˆ—è¡¨ï¼Œè¿™é‡Œæ˜¯æœ‰è¿›å‡ºæ–¹å‘çš„ï¼Œçœ‹ç®­å¤´ï¼Œä¸¤è¡Œç®—ä¸€ç»„æ¥çœ‹
    - æºåœ°å€:ç«¯å£ â†’ ç›®æ ‡åœ°å€:ç«¯å£
        - => è¡¨ç¤ºæ•°æ®ä»æœ¬åœ°å‘é€åˆ°ç›®æ ‡åœ°å€ï¼ˆå‘é€æµé‡ï¼ŒTXï¼‰
        - <= è¡¨ç¤ºæ•°æ®ä»ç›®æ ‡åœ°å€æ¥æ”¶è‡³æœ¬åœ°ï¼ˆæ¥æ”¶æµé‡ï¼ŒTXï¼‰
    - ä¸‰ä¸ªé€Ÿç‡åˆ—ï¼šåˆ†åˆ«ä¸ºè¿‡å» 2ç§’ã€10ç§’ã€40ç§’ çš„å¹³å‡æµé‡é€Ÿç‡ã€‚
        - ç¬¬ä¸€åˆ—ï¼ˆ2ç§’ï¼‰ï¼šåæ˜ ç¬æ—¶æµé‡æ³¢åŠ¨ï¼Œé€‚åˆæ•æ‰çªå‘ä¼ è¾“ã€‚
        - ç¬¬äºŒåˆ—ï¼ˆ10ç§’ï¼‰ï¼šçŸ­æœŸè¶‹åŠ¿ï¼Œè¯†åˆ«çŸ­æš‚é«˜è´Ÿè½½ã€‚
        - ç¬¬ä¸‰åˆ—ï¼ˆ40ç§’ï¼‰ï¼šé•¿æœŸè¶‹åŠ¿ï¼Œåˆ¤æ–­æŒç»­å ç”¨å¸¦å®½çš„è¿æ¥ã€‚
    - æ’åºè§„åˆ™ï¼šé»˜è®¤æŒ‰ 2ç§’é€Ÿç‡ é™åºæ’åˆ—ï¼ŒæŒ‰ t å¯åˆ‡æ¢æ’åºä¾æ®ã€‚
- åº•éƒ¨ç»Ÿè®¡åŒº
    - cumï¼ˆCumulativeï¼‰ï¼šä»å¯åŠ¨ iftop åˆ°å½“å‰çš„ç´¯è®¡æµé‡
    - Peak rateï¼šå³°å€¼é€Ÿç‡ï¼Œæ˜¾ç¤ºç›‘æ§æœŸé—´çš„æœ€é«˜ä¸Šä¼ ï¼ˆTXï¼‰å’Œä¸‹è½½ï¼ˆRXï¼‰é€Ÿç‡ï¼Œç”¨äºè¯„ä¼°ç½‘ç»œæœ€å¤§è´Ÿè½½ã€‚
    - Ratesï¼šä¸åŒæ—¶é—´æ®µçš„å¹³å‡é€Ÿç‡ï¼Œå³2s/10s/40s é€Ÿç‡ï¼Œä¸ä¸­éƒ¨è¿æ¥åˆ—è¡¨çš„é€Ÿç‡åˆ—ä¸€è‡´ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰ä¸ªæ—¶é—´çª—å£çš„å¹³å‡å€¼ã€‚
- è¯†åˆ«é«˜æµé‡è¿æ¥
    - ç¬æ—¶é«˜å³°ï¼šå…³æ³¨ 2ç§’é€Ÿç‡ é«˜çš„è¿æ¥ï¼Œå¯èƒ½æ˜¯å¤§æ–‡ä»¶ä¼ è¾“æˆ–å¼‚å¸¸æµé‡ï¼ˆå¦‚æ”»å‡»ï¼‰ã€‚
    - æŒç»­å ç”¨ï¼šè‹¥æŸè¿æ¥çš„ 40ç§’é€Ÿç‡ é•¿æœŸé«˜ä½ï¼Œéœ€æ£€æŸ¥æ˜¯å¦ä¸ºæ­£å¸¸æœåŠ¡ï¼ˆå¦‚è§†é¢‘æµã€å¤‡ä»½ä»»åŠ¡ï¼‰ã€‚
- å¸¦å®½ç“¶é¢ˆåˆ†æ
    - åˆ»åº¦æ¡é¥±å’Œï¼šè‹¥é¡¶éƒ¨åˆ»åº¦æ¡æŒç»­æ»¡æ ¼ï¼Œä¸”åº•éƒ¨ Peak rate æ¥è¿‘ç‰©ç†å¸¦å®½ä¸Šé™ï¼Œè¯´æ˜ç½‘ç»œæ‹¥å µã€‚
    - TX/RX æ¯”ä¾‹å¤±è¡¡ï¼šä¸Šä¼ ï¼ˆTXï¼‰è¿œé«˜äºä¸‹è½½ï¼ˆRXï¼‰å¯èƒ½ä¸ºæœåŠ¡å™¨å“åº”è¯·æ±‚ï¼ˆå¦‚WebæœåŠ¡ï¼‰ï¼›åä¹‹å¯èƒ½æ˜¯å®¢æˆ·ç«¯ä¸‹è½½æ•°æ®ã€‚
- å¼‚å¸¸æµé‡æ£€æµ‹
    - æœªçŸ¥IPæˆ–ç«¯å£ï¼šé™Œç”Ÿåœ°å€çš„é«˜é€Ÿç‡è¿æ¥å¯èƒ½ä¸ºæ¶æ„è½¯ä»¶æˆ–æœªç»æˆæƒçš„è®¿é—®ã€‚
    - å•å‘æµé‡æ¿€å¢ï¼šå¦‚åªæœ‰å‘é€ï¼ˆ=>ï¼‰æ— æ¥æ”¶ï¼ˆ<=ï¼‰ï¼Œå¯èƒ½ä¸ºDDoSæ”»å‡»æˆ–æ•°æ®æ³„éœ²ã€‚
- æ€»ç»“
    - æ ¸å¿ƒæŒ‡æ ‡ï¼šå…³æ³¨ 2ç§’é€Ÿç‡ï¼ˆçªå‘æµé‡ï¼‰ä¸ 40ç§’é€Ÿç‡ï¼ˆé•¿æœŸè¶‹åŠ¿ï¼‰ã€‚
    - å¼‚å¸¸åˆ¤æ–­ï¼šé™Œç”ŸIPã€éå¸¸ç”¨ç«¯å£ã€å•å‘é«˜æµé‡å‡ä¸ºå±é™©ä¿¡å·ã€‚
    - ä¼˜åŒ–å»ºè®®ï¼šç»“åˆ nethogsï¼ˆæŒ‰è¿›ç¨‹ç›‘æ§ï¼‰å’Œ tcpdumpï¼ˆæŠ“åŒ…åˆ†æï¼‰æ·±å…¥è¯Šæ–­ã€‚

## show engine innodb status

å¦‚ä½•æŸ¥çœ‹ä¸€ä¸ªmysqlçš„è´Ÿè½½æ˜¯å¦è¿‡é«˜ï¼Œåªèƒ½ç™»å½•mysqlå‘½ä»¤è¡Œï¼Œä¸èƒ½ç™»å½•mysqlæ‰€åœ¨æœåŠ¡å™¨

    SHOW FULL PROCESSLIST;
    SHOW GLOBAL STATUS LIKE 'Threads%';
    SHOW GLOBAL STATUS LIKE 'Connections';
    SHOW GLOBAL STATUS LIKE 'Created_tmp%';
    SHOW GLOBAL STATUS LIKE 'Slow_queries';
    SHOW ENGINE INNODB STATUS\G

| æŒ‡æ ‡                                          | å¯ç–‘è¡¨ç°                                                             |
| ------------------------------------------- | ---------------------------------------------------------------- |
| `Threads_running`                           | é•¿æ—¶é—´ >10ï¼Œè¯´æ˜å¯èƒ½æ‰§è¡Œäº†å¤ªå¤šè€—æ—¶ SQL                                          |
| `Slow_queries`                              | æŒç»­å¢åŠ ï¼Œè¯´æ˜ SQL éœ€è¦ä¼˜åŒ–                                                 |
| InnoDB ç­‰å¾…é”                                  | æœ‰å¤§é‡ `waiting for lock` çš„äº‹åŠ¡ï¼Œè¡¨æ˜å¹¶å‘å†™å…¥å†²çªä¸¥é‡                            |
| ä¸´æ—¶è¡¨                                         | `Created_tmp_disk_tables / Created_tmp_tables > 0.3`ï¼Œå»ºè®®ä¼˜åŒ– SQL ç´¢å¼• |
| `Max_used_connections` æ¥è¿‘ `max_connections` | æ•°æ®åº“å¯èƒ½è¾¾åˆ°è¿æ¥æé™ï¼Œå‡ºç°è¿æ¥æ‹’ç»                                               |



è§£é‡ŠSHOW ENGINE INNODB STATUS\Gçš„ä¸‹é¢è¿™æ®µè¾“å‡º

    ROW OPERATIONS
    --------------

    0 queries inside InnoDB, 0 queries in queue
    13 read views open inside InnoDB
    Process ID=883, Main thread ID=70396269356368 , state=sleeping
    Number of rows inserted 329892693, updated 283825209, deleted 31081, read 16187186053
    68.23 inserts/s, 503.62 updates/s, 0.00 deletes/s, 3651.73 reads/s
    Number of system rows inserted 344, updated 10388, deleted 247, read 2077404
    0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.29 reads/s

ä½ æä¾›çš„ `SHOW ENGINE INNODB STATUS\G` è¾“å‡ºä¸­çš„ **ROW OPERATIONS** æ®µï¼Œæ˜¯å…³äº InnoDB å­˜å‚¨å¼•æ“åœ¨è¡Œçº§åˆ«æ“ä½œçš„ç»Ÿè®¡ä¿¡æ¯ã€‚æˆ‘ä»¬æ¥é€è¡Œè§£é‡Šï¼š

---

### ğŸ”¹ æ®µè½æ ‡é¢˜

```
ROW OPERATIONS
--------------
```

è¡¨ç¤ºä»¥ä¸‹å†…å®¹æ˜¯å…³äº InnoDB çš„è¡Œæ“ä½œï¼ˆå¦‚è¯»ã€å†™ã€æ›´æ–°ã€åˆ é™¤ï¼‰çš„ç»Ÿè®¡ã€‚

---

### ğŸ”¹ å½“å‰å¹¶å‘çŠ¶æ€

```
0 queries inside InnoDB, 0 queries in queue
```

**å«ä¹‰**ï¼š

* å½“å‰**æ²¡æœ‰ SQL æŸ¥è¯¢åœ¨ InnoDB å¼•æ“å†…éƒ¨æ‰§è¡Œ**
* **æ²¡æœ‰æŸ¥è¯¢åœ¨ç­‰å¾…é˜Ÿåˆ—ä¸­**

ğŸ‘‰ æ€§èƒ½ä¸Šè¿™æ˜¯å¥½ç°è±¡ï¼Œè¯´æ˜å½“å‰æ²¡æœ‰å¹¶å‘ç“¶é¢ˆæˆ–é˜»å¡ã€‚

---

### ğŸ”¹ ç‰ˆæœ¬å¿«ç…§ï¼ˆMVCCï¼‰è§†å›¾

```
13 read views open inside InnoDB
```

**å«ä¹‰**ï¼š

* å½“å‰æœ‰ 13 ä¸ª "read view"ï¼ˆå³å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ MVCC å¿«ç…§ï¼‰

ğŸ‘‰ é€šå¸¸æ˜¯ç”±äºæœ‰ 13 ä¸ªäº‹åŠ¡æ­£åœ¨è¿è¡Œæˆ–ä½¿ç”¨ä¸€è‡´æ€§è¯»ã€‚è¿™ä¸ªæ•°å­—ä¸æ˜¯é—®é¢˜ï¼Œä½†å¦‚æœé•¿æœŸè¾ƒé«˜å¯èƒ½è¯´æ˜æœ‰é•¿äº‹åŠ¡æœªæäº¤ã€‚

---

### ğŸ”¹ ä¸»çº¿ç¨‹çŠ¶æ€

```
Process ID=883, Main thread ID=70396269356368 , state=sleeping
```

**å«ä¹‰**ï¼š

* InnoDB çš„ä¸»åå°çº¿ç¨‹å½“å‰å¤„äº\*\*sleepingï¼ˆç©ºé—²ï¼‰\*\*çŠ¶æ€ã€‚
* æ²¡æœ‰åå°ä»»åŠ¡ï¼ˆå¦‚ purgeã€åˆå¹¶ insert buffer ç­‰ï¼‰åœ¨å¿™ç¢Œã€‚

---

### ğŸ”¹ è¡Œæ“ä½œçš„å†å²ç´¯è®¡

```
Number of rows inserted 329892693, updated 283825209, deleted 31081, read 16187186053
```

**å«ä¹‰**ï¼šè‡ªæ•°æ®åº“å¯åŠ¨ä»¥æ¥ï¼ˆæˆ–è¿™æ®µæ—¶é—´å†…ï¼‰ï¼š

* æ’å…¥äº† **çº¦ 3.3 äº¿** è¡Œ
* æ›´æ–°äº† **çº¦ 2.8 äº¿** è¡Œ
* åˆ é™¤äº† **3 ä¸‡** è¡Œ
* è¯»å–äº† **161 äº¿** è¡Œ

ğŸ‘‰ è¡Œè¯»å–æ•°é‡è¿œè¿œé«˜äºæ›´æ–°å’Œæ’å…¥ï¼Œæ˜¯å¸¸è§æƒ…å†µï¼ˆå¦‚å¤§é‡ SELECTï¼‰ã€‚

---

### ğŸ”¹ è¡Œæ“ä½œé€Ÿç‡ï¼ˆå•ä½ï¼šæ¯ç§’ï¼‰

```
68.23 inserts/s, 503.62 updates/s, 0.00 deletes/s, 3651.73 reads/s
```

**å«ä¹‰**ï¼šè¿™æ˜¯ **è¿‡å»ä¸€æ®µæ—¶é—´ï¼ˆé€šå¸¸æ˜¯æœ€è¿‘ 1 ç§’ï¼‰** çš„æ“ä½œé€Ÿç‡ï¼š

* æ¯ç§’æ’å…¥çº¦ 68 è¡Œ
* æ¯ç§’æ›´æ–°çº¦ 504 è¡Œ
* åˆ é™¤åŸºæœ¬ä¸º 0
* æ¯ç§’è¯»å–çº¦ 3652 è¡Œ

ğŸ‘‰ è¯´æ˜ä½ çš„ä¸šåŠ¡æ˜¯å…¸å‹çš„ **è¯»å¤šã€å†™ä¸­ç­‰ã€åˆ é™¤æå°‘** çš„è´Ÿè½½ç‰¹å¾ã€‚

---

### ğŸ”¹ ç³»ç»Ÿçº§æ“ä½œï¼ˆç³»ç»Ÿè¡¨æˆ–å…ƒæ•°æ®ï¼‰

```
Number of system rows inserted 344, updated 10388, deleted 247, read 2077404
```

å’Œ

```
0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.29 reads/s
```

æ˜¯å…³äº InnoDB ç³»ç»Ÿå†…éƒ¨è¡¨ï¼ˆå¦‚äº‹åŠ¡å…ƒæ•°æ®ï¼‰çš„æ“ä½œã€‚

ğŸ‘‰ æ­£å¸¸æƒ…å†µä¸‹è¿™äº›æ•°å­—è¾ƒå°ï¼Œé™¤éä½ åšå¤§é‡ DDL æ“ä½œã€‚

---

## âœ… æ€»ç»“ï¼šè´Ÿè½½åˆ†æç»“è®º

* å½“å‰ **InnoDB å¾ˆç©ºé—²**ï¼ˆ0 æŸ¥è¯¢åœ¨å†…éƒ¨ï¼Œä¸»çº¿ç¨‹ç¡çœ ï¼‰
* æœ‰ 13 ä¸ªè¯»å¿«ç…§ï¼Œå¯èƒ½æœ‰äº›äº‹åŠ¡æœªåŠæ—¶æäº¤ï¼Œä½†ä¸æ˜¯å¤§é—®é¢˜
* **è¯»æ“ä½œéå¸¸é«˜**ï¼ˆ3.6K reads/sï¼‰ï¼Œå†™å…¥ä¹Ÿæ´»è·ƒï¼Œä½†ä¸æ˜¯è¿‡è½½
* **åˆ é™¤å‡ ä¹æ²¡æœ‰**ï¼Œä¸šåŠ¡å¯èƒ½æ˜¯ç´¯åŠ å‹çš„ï¼ˆæ—¥å¿—å‹ï¼Ÿï¼‰
* æ²¡æœ‰æ˜æ˜¾çš„é”äº‰ç”¨æˆ–èµ„æºå µå¡

ğŸ‘‰ **MySQL å½“å‰è´Ÿè½½å¹¶ä¸é«˜ï¼Œè¡Œæ“ä½œå¾ˆå¥åº·ã€‚**



--
## è‹±è¯­

å¦‚ä½•åšåˆ°æµç•…é˜…è¯»è‹±æ–‡èµ„æ–™å’Œå¬æ‡‚å›½å¤–å…¬å¼€è¯¾ï¼Ÿ - é­å‰‘å³°çš„å›ç­” - çŸ¥ä¹
https://www.zhihu.com/question/20364185/answer/68330933

å¦‚ä½•åšåˆ°æµç•…é˜…è¯»è‹±æ–‡èµ„æ–™å’Œå¬æ‡‚å›½å¤–å…¬å¼€è¯¾ï¼Ÿ - Cat Chençš„å›ç­” - çŸ¥ä¹
https://www.zhihu.com/question/20364185/answer/14980233

æ¨èä¸€æ¬¾å¬åŠ›è®­ç»ƒææ–™ï¼š60-Second Science ï¼Œå®ƒæ˜¯ç”± Scientific Americanï¼ˆç§‘å­¦ç¾å›½äººï¼‰å‡ºå“çš„ç§‘å­¦è¶£å‘³è‹±è¯­å¹¿æ’­ï¼Œæ¯æ¡é•¿åº¦1åˆ°2åˆ†é’Ÿä¸ç­‰ï¼Œå†…å®¹éå¸¸æœ‰æ„ï¼ŒåŒæ—¶ï¼Œå®ƒçš„é£æ ¼ä¸æ‰˜ç¦å¬åŠ›è€ƒè¯•éå¸¸åƒã€‚
https://www.scientificamerican.com/podcasts/ 

## mysql é”ç­‰å¾…å®šä½

    # å»ºè¡¨ 
    CREATE DATABASE test_lock;
    USE test_lock;

    CREATE TABLE account (
        id INT PRIMARY KEY,
        balance INT
    ) ENGINE=InnoDB;

    INSERT INTO account VALUES (1, 100), (2, 200);

    # session 1
    START TRANSACTION;
    UPDATE account SET balance = balance - 10 WHERE id = 1;
    -- ä¸æäº¤ï¼Œä¿æŒé”

    # session 2
    START TRANSACTION;
    UPDATE account SET balance = balance + 10 WHERE id = 1;
    -- ä¼šé˜»å¡ï¼Œç­‰å¾… Session A é‡Šæ”¾é”

    # session 3
    SELECT *,TIMESTAMPDIFF(SECOND,trx_started, NOW()) seconds FROM information_schema.innodb_trx WHERE trx_state = 'LOCK WAIT'\G


    SET GLOBAL innodb_status_output_locks = ON;
    SHOW VARIABLES LIKE 'innodb_status_output_locks';

    show engine innodb status \G

åˆ†æè¿™æ®µè¾“å‡ºï¼Œè°æŒæœ‰é”ï¼Œè°ç­‰å¾…é”

    ---TRANSACTION 6808630255, ACTIVE 12 sec starting index read
    mysql tables in use 1, locked 1
    LOCK WAIT 2 lock struct(s), heap size 1128, 1 row lock(s)
    MySQL thread id 138, OS thread handle 140139012744960, query id 544252034 localhost debian-sys-maint updating
    UPDATE account SET balance = balance + 10 WHERE id = 1
    ------- TRX HAS BEEN WAITING 12 SEC FOR THIS LOCK TO BE GRANTED:
    RECORD LOCKS space id 1194 page no 4 n bits 72 index PRIMARY of table `test_lock`.`account` trx id 6808630255 lock_mode X locks rec but not gap waiting
    Record lock, heap no 2 PHYSICAL RECORD: n_fields 4; compact format; info bits 0
     0: len 4; hex 80000001; asc     ;;
     1: len 6; hex 000195d373ee; asc     s ;;
     2: len 7; hex 01000002541c99; asc     T  ;;
     3: len 4; hex 80000032; asc    2;;

    ------------------
    TABLE LOCK table `test_lock`.`account` trx id 6808630255 lock mode IX
    RECORD LOCKS space id 1194 page no 4 n bits 72 index PRIMARY of table `test_lock`.`account` trx id 6808630255 lock_mode X locks rec but not gap waiting
    Record lock, heap no 2 PHYSICAL RECORD: n_fields 4; compact format; info bits 0
     0: len 4; hex 80000001; asc     ;;
     1: len 6; hex 000195d373ee; asc     s ;;
     2: len 7; hex 01000002541c99; asc     T  ;;
     3: len 4; hex 80000032; asc    2;;

    ---TRANSACTION 6808630254, ACTIVE 19 sec
    2 lock struct(s), heap size 1128, 1 row lock(s), undo log entries 1
    MySQL thread id 140, OS thread handle 140139013801728, query id 544252032 localhost debian-sys-maint
    TABLE LOCK table `test_lock`.`account` trx id 6808630254 lock mode IX
    RECORD LOCKS space id 1194 page no 4 n bits 72 index PRIMARY of table `test_lock`.`account` trx id 6808630254 lock_mode X locks rec but not gap
    Record lock, heap no 2 PHYSICAL RECORD: n_fields 4; compact format; info bits 0
     0: len 4; hex 80000001; asc     ;;
     1: len 6; hex 000195d373ee; asc     s ;;
     2: len 7; hex 01000002541c99; asc     T  ;;
     3: len 4; hex 80000032; asc    2;;

å›ç­”

æ ¹æ®ä½ æä¾›çš„è¾“å‡ºï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æå‡ºä»¥ä¸‹çš„é”ç«äº‰æƒ…å†µï¼š

### äº‹åŠ¡ 6808630255ï¼ˆæ­£åœ¨ç­‰å¾…é”ï¼‰ï¼š

* **äº‹åŠ¡çŠ¶æ€**ï¼š`ACTIVE 12 sec starting index read`ï¼Œè¡¨ç¤ºäº‹åŠ¡å·²æ‰§è¡Œ 12 ç§’ï¼Œå¹¶å¼€å§‹æ‰§è¡Œç´¢å¼•è¯»å–ã€‚
* **æŸ¥è¯¢**ï¼š`UPDATE account SET balance = balance + 10 WHERE id = 1`ï¼Œè¿™æ˜¯ä¸€ä¸ªæ›´æ–°æ“ä½œï¼Œç›®æ ‡æ˜¯æ›´æ–° `account` è¡¨ä¸­ `id = 1` çš„è®°å½•ã€‚
* **é”çŠ¶æ€**ï¼šæ­¤äº‹åŠ¡å½“å‰å¤„äºç­‰å¾…çŠ¶æ€ï¼Œæ­£åœ¨ç­‰å¾…é”çš„æˆäºˆã€‚

  * å®ƒæ­£ç­‰å¾…ä¸€ä¸ª **è¡Œé”**ï¼ˆ`RECORD LOCKS`ï¼‰ï¼Œé”å®š `PRIMARY` ç´¢å¼•ä¸­çš„ç‰¹å®šè®°å½•ï¼ˆ`heap no 2`ï¼‰ã€‚
  * é”æ¨¡å¼ï¼š**æ’ä»–é”**ï¼ˆ`X`ï¼‰ï¼Œè¡¨ç¤ºæ­¤äº‹åŠ¡è¯•å›¾ç‹¬å è¯¥è®°å½•çš„è®¿é—®ã€‚
  * å®ƒè¿˜æŒæœ‰ä¸€ä¸ª **è¡¨é”**ï¼ˆ`TABLE LOCK`ï¼‰åœ¨ `account` è¡¨ä¸Šï¼Œé”æ¨¡å¼ä¸º **æ„å‘æ’ä»–é”**ï¼ˆ`IX`ï¼‰ã€‚

### äº‹åŠ¡ 6808630254ï¼ˆæŒæœ‰é”ï¼‰ï¼š

* **äº‹åŠ¡çŠ¶æ€**ï¼š`ACTIVE 19 sec`ï¼Œè¡¨ç¤ºäº‹åŠ¡å·²æ‰§è¡Œ 19 ç§’ã€‚
* **é”çŠ¶æ€**ï¼šæ­¤äº‹åŠ¡æŒæœ‰ä¸€ä¸ª **è¡¨é”**ï¼ˆ`TABLE LOCK`ï¼‰åœ¨ `account` è¡¨ä¸Šï¼Œé”æ¨¡å¼ä¸º **æ„å‘æ’ä»–é”**ï¼ˆ`IX`ï¼‰ã€‚

  * æ­¤äº‹åŠ¡è¿˜æŒæœ‰ä¸€ä¸ª **è¡Œé”**ï¼ˆ`RECORD LOCKS`ï¼‰ï¼Œé”å®šäº† `PRIMARY` ç´¢å¼•ä¸­çš„ç›¸åŒè®°å½•ï¼ˆ`heap no 2`ï¼‰ï¼Œå¹¶ä¸”é”å®šæ¨¡å¼æ˜¯ **æ’ä»–é”**ï¼ˆ`X`ï¼‰ï¼Œè¡¨ç¤ºå®ƒç‹¬å äº†è¯¥è®°å½•ã€‚

### é”ç­‰å¾…å’ŒæŒæœ‰åˆ†æï¼š

* **äº‹åŠ¡ 6808630255** æ­£åœ¨ **ç­‰å¾…äº‹åŠ¡ 6808630254** é‡Šæ”¾é”ï¼Œå› ä¸ºäº‹åŠ¡ 6808630254 å·²ç»å¯¹ `PRIMARY` ç´¢å¼•ä¸­çš„ç›¸åŒè®°å½•ï¼ˆ`heap no 2`ï¼‰åŠ ä¸Šäº† **æ’ä»–é”**ï¼ˆ`X`ï¼‰ã€‚è€Œäº‹åŠ¡ 6808630255 ä¹Ÿå¸Œæœ›å¯¹è¯¥è®°å½•åŠ ä¸Šæ’ä»–é”ï¼ˆ`X`ï¼‰ï¼Œå› æ­¤å®ƒåœ¨ç­‰å¾…ã€‚

* **äº‹åŠ¡ 6808630254** è¿˜æŒæœ‰ä¸€ä¸ª **æ„å‘æ’ä»–é”**ï¼ˆ`IX`ï¼‰åœ¨ `account` è¡¨ä¸Šï¼Œè¿™å¹¶ä¸ä¼šç›´æ¥é˜»æ­¢å…¶ä»–äº‹åŠ¡è¿›è¡Œè¯»æ“ä½œï¼Œä½†å¦‚æœå…¶ä»–äº‹åŠ¡ä¹Ÿå¸Œæœ›åŠ æ’ä»–é”æˆ–å†™å…¥æ•°æ®ï¼Œå¯èƒ½ä¼šå‘ç”Ÿå†²çªã€‚

### æ€»ç»“ï¼š

* **äº‹åŠ¡ 6808630254** æŒæœ‰ `PRIMARY` ç´¢å¼•ä¸­çš„è®°å½•é”å’Œè¡¨é”ï¼Œå¹¶ä¸”æ­£åœ¨è¿›è¡Œæ›´æ–°æ“ä½œã€‚
* **äº‹åŠ¡ 6808630255** æ­£åœ¨ç­‰å¾… `PRIMARY` ç´¢å¼•ä¸­çš„è®°å½•é”ï¼Œå› ä¸ºå®ƒå¸Œæœ›å¯¹è¯¥è®°å½•è¿›è¡Œæ›´æ–°æ“ä½œï¼Œä½†æ˜¯ `äº‹åŠ¡ 6808630254` å·²ç»æŒæœ‰è¯¥é”ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œäº‹åŠ¡ 6808630255 å¿…é¡»ç­‰å¾…äº‹åŠ¡ 6808630254 é‡Šæ”¾è¡Œé”ï¼ˆæˆ–æäº¤/å›æ»šäº‹åŠ¡ï¼‰æ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚

mysql 8

    select * from performance_schema.setup_instruments WHERE NAME LIKE '%data_lock%';;

    -- å¯ç”¨é”ç›¸å…³ç›‘æ§
    UPDATE performance_schema.setup_instruments
    SET ENABLED = 'YES', TIMED = 'YES'
    WHERE NAME LIKE '%data_lock%';

    -- å¯ç”¨è¯­å¥é‡‡é›†å™¨
    UPDATE performance_schema.setup_instruments
    SET ENABLED = 'YES', TIMED = 'YES'
    WHERE NAME LIKE 'statement/sql/%';

    -- å¯ç”¨è¯­å¥è·Ÿè¸ª
    UPDATE performance_schema.setup_consumers
    SET ENABLED = 'YES'
    WHERE NAME IN (
      'events_statements_current',
      'thread_instrumentation'
    );


    SELECT
      NOW() AS check_time,

      -- ç­‰å¾…äº‹åŠ¡ä¿¡æ¯
      r.ENGINE_TRANSACTION_ID AS waiting_trx_id,
      r.THREAD_ID AS waiting_thread_id,
      r.OBJECT_SCHEMA AS waiting_schema,
      r.OBJECT_NAME AS waiting_table,
      r.INDEX_NAME AS waiting_index,
      r.LOCK_MODE AS waiting_lock_mode,
      r.LOCK_TYPE AS waiting_lock_type,
      r.LOCK_DATA AS waiting_lock_data,
      r.LOCK_STATUS AS waiting_lock_status,

      -- é˜»å¡äº‹åŠ¡ä¿¡æ¯
      b.ENGINE_TRANSACTION_ID AS blocking_trx_id,
      b.THREAD_ID AS blocking_thread_id,
      b.OBJECT_SCHEMA AS blocking_schema,
      b.OBJECT_NAME AS blocking_table,
      b.INDEX_NAME AS blocking_index,
      b.LOCK_MODE AS blocking_lock_mode,
      b.LOCK_TYPE AS blocking_lock_type,
      b.LOCK_DATA AS blocking_lock_data,
      b.LOCK_STATUS AS blocking_lock_status,

      -- å¯é€‰ï¼šé˜»å¡çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„ SQLï¼ˆå¦‚æœå¯ç”¨ï¼‰
      es.SQL_TEXT AS blocking_sql

    FROM performance_schema.data_lock_waits w
    JOIN performance_schema.data_locks r
      ON w.REQUESTING_ENGINE_LOCK_ID = r.ENGINE_LOCK_ID
    JOIN performance_schema.data_locks b
      ON w.BLOCKING_ENGINE_LOCK_ID = b.ENGINE_LOCK_ID
    LEFT JOIN performance_schema.threads t
      ON b.THREAD_ID = t.THREAD_ID
    LEFT JOIN performance_schema.events_statements_current es
      ON t.PROCESSLIST_ID = es.THREAD_ID

    ORDER BY r.ENGINE_TRANSACTION_ID\G

## æ—¥å¿—

https://zhuanlan.zhihu.com/p/572625895
å¦‚ä½•å®ç°é«˜æ€§èƒ½çš„æ—¥å¿—

- æ‰¹é‡å†™å…¥ï¼šæ”’å¤Ÿæ•°æ®ï¼Œä¸€æ¬¡å†™å…¥
- å”¤é†’æœºåˆ¶ï¼šé€šçŸ¥å”¤é†’ notify + è¶…æ—¶å”¤é†’ wait_timeout
- é”çš„ç²’åº¦ï¼šåˆ·æ–°ç£ç›˜æ—¶ï¼Œæ—¥å¿—æ¥å£ä¸ä¼šé˜»å¡ã€‚è¿™æ˜¯é€šè¿‡åŒé˜Ÿåˆ—å®ç°çš„ï¼Œå‰å°é˜Ÿåˆ—å®ç°æ—¥å¿—æ¥å£ï¼Œåå°é˜Ÿåˆ—å®ç°åˆ·æ–°ç£ç›˜ã€‚
- å†…å­˜åˆ†é…ï¼šç§»åŠ¨è¯­ä¹‰ï¼Œé¿å…æ·±æ‹·è´ï¼›åŒç¼“å†²ï¼Œå‰å°åå°éƒ½è®¾æœ‰ã€‚
